# コレクション
インスタンスの集合を扱うためのクラスの総称<br>
コレクションが扱えるクラスには制限がない(=Objectクラスを扱うイメージ)

## ジェネリクス
コレクションクラスは、すべてのクラスを扱えるため、本来意図しない型のクラスのインスタンスを扱ってしまうことも可能でった<br>
これを解決するため、クラスで使用する型宣言をインスタンス生成と同時に行えるようにした機能のこと<br>
ジェネリクスを利用したクラスは、**総称型**と呼ばれる

### 特徴
- Tというエイリアスを使い、動的に型定義したい部分を記述する
- インスタンス生成時、ダイヤモンド演算子の中に型を指定する<br>
(省略した場合、Object型が扱われると自動翻訳される)

### ジェネリクスを使用したクラス宣言の例
```java
public class SampleGenerics<T> {
    private T value;

    public SampleGenerics(T value) {
        super();
        this.value = value;
    }

    public void setValue(T value) {
        this.value = value;
    }
    public T getValue() {
        return this.value;
    }
}
```

### 制限付きの型パラメータ
クラス定義の時に使用する<br>
\<T extends SuperClass>と記述することで、SuperClassのサブクラスしか代入を許さないジェネリクスを作成できる

### ワイルドカード<br>
ジェネリクス宣言の時に使用する<br>
\<?>と記述することで、すべての型パラメータを許容することができる

- 非境界ワイルドカード<br>
すべての型パラメータを許容するワイルドカード<br>
次のような特徴を持つ
    1. メソッドの戻り値型はObject型になる<br>
    戻り値型の定義がないため<br>
    (=どのインスタンスでも戻せるよう設計するには、Object型のみしか許容されない)<br>
    受け取る側は、適切にダウンキャストが必要
    2. メソッドの引数にはnullリテラルしか渡せない<br>
    引数の型宣言がないため
- 上限境界ワイルドカード<br>
そのクラス or サブクラスのみを許容するワイルドカード<br>
\<? extends Class>と記述する<br>
**メソッドの戻り値を任意の型にすることが可能となる**
- 下限境界ワイルドカード<br>
そのクラス or スーパークラスのみを許容するワイルドカード<br>
\<? super Class>と記述する<br>
引数の型を任意の型にすることが可能

## 変性
参照型がどの型として扱えるようにするかという性質のこと<br>
なお、ジェネリクスは**非変**であるため注意(参考:[共変性のジェネリクスが危険である例](#共変性のジェネリクスが危険である例))

### 変性の種類
- 共変性(covariance)<br>
サブクラス型の代入を許す
- 非変性(invariance)<br>
サブクラス型の代入を許さない
- 反変性(contravariance)<br>
スーパークラス型の代入を許す

### 共変性のジェネリクスが危険である例
```java
import java.util.List;
import java.util.ArrayList;

// Object型を扱う変数に、String型を扱うインスタンスを代入
List<Object> sampleList = new ArrayList<String>();

// sampleListはObject型を扱うため、以下がコンパイルエラーにならない
sampleList.add(1024);
```

## java.lang.Comparable
比較を行うクラス

### メソッド
- CompareTo<br>
並び替えを行う際、以下を返す
    - **自分自身が相手より前**に並び変えるなら、**負の整数**
    - **自分自身と相手が同値**なら、0
    - **自分自身が相手より後**に並び変えるなら、**正の整数**
